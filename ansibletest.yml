---
- vsphere_guest:
    vcenter_hostname: <ip>
    username: <user>
    password: <pass>
    guest: test-vm
    state: powered_on
    from_template: yes
    template_src: UbuntuTmpl
    cluster: cluster
    vm_disk:
        disk1:
            size_gb: 10
            type: thin
            datastore: prod_ds
    vm_nic:
        nic1:
            network: VM Network
            
    vm_hardware:
        memory_mb: 2048
        num_cpus: 2
    esxi:
        datacenter: Datacenter
        hostname: test-vm